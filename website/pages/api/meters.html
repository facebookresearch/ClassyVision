
<script type="text/javascript" id="documentation_options" data-url_root="./"
  src="/js/documentation_options.js"></script>
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="/js/underscore.js"></script>
<script type="text/javascript" src="/js/doctools.js"></script>
<script type="text/javascript" src="/js/language_data.js"></script>
<script type="text/javascript" src="/js/searchtools.js"></script>
<div class="sphinx"><div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="section" id="module-classy_vision.meters">
<span id="meters"></span><h1>Meters<a class="headerlink" href="#module-classy_vision.meters" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="classy_vision.meters.AccuracyMeter">
<em class="property">class </em><code class="sig-prename descclassname">classy_vision.meters.</code><code class="sig-name descname">AccuracyMeter</code><span class="sig-paren">(</span><em class="sig-param">topk</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.AccuracyMeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Meter to calculate top-k accuracy for single label
image classification task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>topk</strong> – list of int <cite>k</cite> values.</p>
</dd>
</dl>
<dl class="method">
<dt id="classy_vision.meters.AccuracyMeter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.AccuracyMeter.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a ClassyMeter using a configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – A configuration for the meter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ClassyMeter instance</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.AccuracyMeter.get_classy_state">
<code class="sig-name descname">get_classy_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.AccuracyMeter.get_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the states of the meter.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.AccuracyMeter.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#classy_vision.meters.AccuracyMeter.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the meter.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.AccuracyMeter.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.AccuracyMeter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets any internal meter state.</p>
<p>Should normally be called at the end of a phase.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.AccuracyMeter.set_classy_state">
<code class="sig-name descname">set_classy_state</code><span class="sig-paren">(</span><em class="sig-param">state</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.AccuracyMeter.set_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the state of the ClassyMeter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state_dict</strong> – The state dictionary. Must be the output of a call to
<a href="#id1"><span class="problematic" id="id2">:method:`get_classy_state`</span></a>.</p>
</dd>
</dl>
<p>This is used to load the state of the meter from a checkpoint.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.AccuracyMeter.sync_state">
<code class="sig-name descname">sync_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.AccuracyMeter.sync_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Syncs state with all other meters in distributed training.</p>
<p>If not provided by child class this does nothing by default
and meter only provides the local process stats. If
implemented then the meter provides the global stats at last
sync + any local updates since the last sync.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Calls to sync_state could involve communications via
<a class="reference external" href="https://pytorch.org/docs/stable/distributed.html#module-torch.distributed" title="(in PyTorch vmaster (1.3.0a0+ee77ccb ))"><code class="xref py py-mod docutils literal notranslate"><span class="pre">torch.distributed</span></code></a> which can result in a loss of performance or
deadlocks if not coordinated among threads.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.AccuracyMeter.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">model_output</em>, <em class="sig-param">target</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.AccuracyMeter.update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_output</strong> – tensor of shape (B, C) where each value is
either logit or class probability.</p></li>
<li><p><strong>target</strong> – tensor of shape (B).</p></li>
<li><p><strong>Note</strong> – For binary classification, C=2.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.AccuracyMeter.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param">model_output_shape</em>, <em class="sig-param">target_shape</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.AccuracyMeter.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the meter.</p>
<p>Checks if the meter can be calculated on the given model_output_shape
and target_shape.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.AccuracyMeter.value">
<em class="property">property </em><code class="sig-name descname">value</code><a class="headerlink" href="#classy_vision.meters.AccuracyMeter.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Value of meter based on local state, can be any python object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are multiple training processes then this
represents the local state of the meter. If <a href="#id3"><span class="problematic" id="id4">:method:`sync_meter`</span></a> is
implemented, then value will return the global state since the
last sync PLUS any local unsynced updates that have occurred
in the local process.</p>
</div>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="classy_vision.meters.ClassyMeter">
<em class="property">class </em><code class="sig-prename descclassname">classy_vision.meters.</code><code class="sig-name descname">ClassyMeter</code><a class="headerlink" href="#classy_vision.meters.ClassyMeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class to measure various metrics during training and testing phases.</p>
<p>This can include meters like  Accuracy, Precision and Recall, etc.</p>
<dl class="method">
<dt id="classy_vision.meters.ClassyMeter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: Dict[str, Any]</em><span class="sig-paren">)</span> → classy_vision.meters.classy_meter.ClassyMeter<a class="headerlink" href="#classy_vision.meters.ClassyMeter.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a ClassyMeter using a configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – A configuration for the meter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ClassyMeter instance</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.ClassyMeter.get_classy_state">
<code class="sig-name descname">get_classy_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → Dict[str, Any]<a class="headerlink" href="#classy_vision.meters.ClassyMeter.get_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the state of the ClassyMeter.</p>
<p>The returned state is used for checkpointing.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A state dictionary containing the state of the meter.</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.ClassyMeter.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#classy_vision.meters.ClassyMeter.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the meter.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.ClassyMeter.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.ClassyMeter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets any internal meter state.</p>
<p>Should normally be called at the end of a phase.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.ClassyMeter.set_classy_state">
<code class="sig-name descname">set_classy_state</code><span class="sig-paren">(</span><em class="sig-param">state: Dict[str, Any]</em><span class="sig-paren">)</span> → None<a class="headerlink" href="#classy_vision.meters.ClassyMeter.set_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the state of the ClassyMeter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state_dict</strong> – The state dictionary. Must be the output of a call to
<a href="#id5"><span class="problematic" id="id6">:method:`get_classy_state`</span></a>.</p>
</dd>
</dl>
<p>This is used to load the state of the meter from a checkpoint.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.ClassyMeter.sync_state">
<code class="sig-name descname">sync_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → None<a class="headerlink" href="#classy_vision.meters.ClassyMeter.sync_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Syncs state with all other meters in distributed training.</p>
<p>If not provided by child class this does nothing by default
and meter only provides the local process stats. If
implemented then the meter provides the global stats at last
sync + any local updates since the last sync.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Calls to sync_state could involve communications via
<a class="reference external" href="https://pytorch.org/docs/stable/distributed.html#module-torch.distributed" title="(in PyTorch vmaster (1.3.0a0+ee77ccb ))"><code class="xref py py-mod docutils literal notranslate"><span class="pre">torch.distributed</span></code></a> which can result in a loss of performance or
deadlocks if not coordinated among threads.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.ClassyMeter.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">model_output: torch.Tensor</em>, <em class="sig-param">target: torch.Tensor</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span> → None<a class="headerlink" href="#classy_vision.meters.ClassyMeter.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates any internal state of meter.</p>
<p>Should be called after each batch processing of each phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_output</strong> – Output of a <code class="xref py py-class docutils literal notranslate"><span class="pre">ClassyModel</span></code>.</p></li>
<li><p><strong>target</strong> – Target provided by a dataloader from <code class="xref py py-class docutils literal notranslate"><span class="pre">ClassyDataset</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.ClassyMeter.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param">model_output_shape: Tuple</em>, <em class="sig-param">target_shape: Tuple</em><span class="sig-paren">)</span> → None<a class="headerlink" href="#classy_vision.meters.ClassyMeter.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the meter.</p>
<p>Checks if the meter can be calculated on the given model_output_shape
and target_shape.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.ClassyMeter.value">
<em class="property">property </em><code class="sig-name descname">value</code><a class="headerlink" href="#classy_vision.meters.ClassyMeter.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Value of meter based on local state, can be any python object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are multiple training processes then this
represents the local state of the meter. If <a href="#id7"><span class="problematic" id="id8">:method:`sync_meter`</span></a> is
implemented, then value will return the global state since the
last sync PLUS any local unsynced updates that have occurred
in the local process.</p>
</div>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="classy_vision.meters.PrecisionAtKMeter">
<em class="property">class </em><code class="sig-prename descclassname">classy_vision.meters.</code><code class="sig-name descname">PrecisionAtKMeter</code><span class="sig-paren">(</span><em class="sig-param">topk</em>, <em class="sig-param">target_is_one_hot=True</em>, <em class="sig-param">num_classes=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Meter to calculate top-k precision for single- or multi-label
image classification task. Note, ties are resolved randomly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topk</strong> – list of int <cite>k</cite> values.</p></li>
<li><p><strong>target_is_one_hot</strong> – boolean, if class labels are one-hot encoded.</p></li>
<li><p><strong>num_classes</strong> – int, number of classes.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="classy_vision.meters.PrecisionAtKMeter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a ClassyMeter using a configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – A configuration for the meter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ClassyMeter instance</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.PrecisionAtKMeter.get_classy_state">
<code class="sig-name descname">get_classy_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter.get_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the states of the meter.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.PrecisionAtKMeter.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the meter.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.PrecisionAtKMeter.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets any internal meter state.</p>
<p>Should normally be called at the end of a phase.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.PrecisionAtKMeter.set_classy_state">
<code class="sig-name descname">set_classy_state</code><span class="sig-paren">(</span><em class="sig-param">state</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter.set_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the state of the ClassyMeter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state_dict</strong> – The state dictionary. Must be the output of a call to
<a href="#id9"><span class="problematic" id="id10">:method:`get_classy_state`</span></a>.</p>
</dd>
</dl>
<p>This is used to load the state of the meter from a checkpoint.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.PrecisionAtKMeter.sync_state">
<code class="sig-name descname">sync_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter.sync_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Syncs state with all other meters in distributed training.</p>
<p>If not provided by child class this does nothing by default
and meter only provides the local process stats. If
implemented then the meter provides the global stats at last
sync + any local updates since the last sync.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Calls to sync_state could involve communications via
<a class="reference external" href="https://pytorch.org/docs/stable/distributed.html#module-torch.distributed" title="(in PyTorch vmaster (1.3.0a0+ee77ccb ))"><code class="xref py py-mod docutils literal notranslate"><span class="pre">torch.distributed</span></code></a> which can result in a loss of performance or
deadlocks if not coordinated among threads.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.PrecisionAtKMeter.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">model_output</em>, <em class="sig-param">target</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter.update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_output</strong> – tensor of shape (B, C) where each value is
either logit or class probability.</p></li>
<li><p><strong>target</strong> – tensor of shape (B, C), one-hot encoded
or integer encoded.</p></li>
<li><p><strong>Note</strong> – For binary classification, C=2.
For integer encoded target, C=1.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.PrecisionAtKMeter.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param">model_output_shape</em>, <em class="sig-param">target_shape</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the meter.</p>
<p>Checks if the meter can be calculated on the given model_output_shape
and target_shape.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.PrecisionAtKMeter.value">
<em class="property">property </em><code class="sig-name descname">value</code><a class="headerlink" href="#classy_vision.meters.PrecisionAtKMeter.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Value of meter based on local state, can be any python object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are multiple training processes then this
represents the local state of the meter. If <a href="#id11"><span class="problematic" id="id12">:method:`sync_meter`</span></a> is
implemented, then value will return the global state since the
last sync PLUS any local unsynced updates that have occurred
in the local process.</p>
</div>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="classy_vision.meters.RecallAtKMeter">
<em class="property">class </em><code class="sig-prename descclassname">classy_vision.meters.</code><code class="sig-name descname">RecallAtKMeter</code><span class="sig-paren">(</span><em class="sig-param">topk</em>, <em class="sig-param">target_is_one_hot=True</em>, <em class="sig-param">num_classes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Meter to calculate top-k recall for single- or multi-label
image classification task.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topk</strong> – list of int <cite>k</cite> values.</p></li>
<li><p><strong>target_is_one_hot</strong> – boolean, if class labels are one-hot encoded.</p></li>
<li><p><strong>num_classes</strong> – int, number of classes.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="classy_vision.meters.RecallAtKMeter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a ClassyMeter using a configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – A configuration for the meter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ClassyMeter instance</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.RecallAtKMeter.get_classy_state">
<code class="sig-name descname">get_classy_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter.get_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the states of the meter.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.RecallAtKMeter.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the meter.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.RecallAtKMeter.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets any internal meter state.</p>
<p>Should normally be called at the end of a phase.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.RecallAtKMeter.set_classy_state">
<code class="sig-name descname">set_classy_state</code><span class="sig-paren">(</span><em class="sig-param">state</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter.set_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the state of the ClassyMeter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state_dict</strong> – The state dictionary. Must be the output of a call to
<a href="#id13"><span class="problematic" id="id14">:method:`get_classy_state`</span></a>.</p>
</dd>
</dl>
<p>This is used to load the state of the meter from a checkpoint.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.RecallAtKMeter.sync_state">
<code class="sig-name descname">sync_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter.sync_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Syncs state with all other meters in distributed training.</p>
<p>If not provided by child class this does nothing by default
and meter only provides the local process stats. If
implemented then the meter provides the global stats at last
sync + any local updates since the last sync.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Calls to sync_state could involve communications via
<a class="reference external" href="https://pytorch.org/docs/stable/distributed.html#module-torch.distributed" title="(in PyTorch vmaster (1.3.0a0+ee77ccb ))"><code class="xref py py-mod docutils literal notranslate"><span class="pre">torch.distributed</span></code></a> which can result in a loss of performance or
deadlocks if not coordinated among threads.</p>
</div>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.RecallAtKMeter.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">model_output</em>, <em class="sig-param">target</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter.update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_output</strong> – tensor of shape (B, C) where each value is
either logit or class probability.</p></li>
<li><p><strong>target</strong> – tensor of shape (B, C), one-hot encoded
or integer encoded.</p></li>
<li><p><strong>Note</strong> – For binary classification, C=2.
For integer encoded target, C=1.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.RecallAtKMeter.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param">model_output_shape</em>, <em class="sig-param">target_shape</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the meter.</p>
<p>Checks if the meter can be calculated on the given model_output_shape
and target_shape.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.RecallAtKMeter.value">
<em class="property">property </em><code class="sig-name descname">value</code><a class="headerlink" href="#classy_vision.meters.RecallAtKMeter.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Value of meter based on local state, can be any python object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are multiple training processes then this
represents the local state of the meter. If <a href="#id15"><span class="problematic" id="id16">:method:`sync_meter`</span></a> is
implemented, then value will return the global state since the
last sync PLUS any local unsynced updates that have occurred
in the local process.</p>
</div>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="classy_vision.meters.VideoAccuracyMeter">
<em class="property">class </em><code class="sig-prename descclassname">classy_vision.meters.</code><code class="sig-name descname">VideoAccuracyMeter</code><span class="sig-paren">(</span><em class="sig-param">topk</em>, <em class="sig-param">clips_per_video_train</em>, <em class="sig-param">clips_per_video_test</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.VideoAccuracyMeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Meter to calculate top-k video-level accuracy for single label
video classification task. Video-level accuarcy is computed by averaging
clip-level predictions and compare the reslt with video-level groundtruth
label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>topk</strong> – list of int <cite>k</cite> values.</p></li>
<li><p><strong>clips_per_video_train</strong> – No. of clips sampled per video at train time</p></li>
<li><p><strong>clips_per_video_test</strong> – No. of clips sampled per video at test time</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="classy_vision.meters.VideoAccuracyMeter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.VideoAccuracyMeter.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates a ClassyMeter using a configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – A configuration for the meter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ClassyMeter instance</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.VideoAccuracyMeter.get_classy_state">
<code class="sig-name descname">get_classy_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.VideoAccuracyMeter.get_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the states of the meter.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.VideoAccuracyMeter.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#classy_vision.meters.VideoAccuracyMeter.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the meter.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.VideoAccuracyMeter.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.VideoAccuracyMeter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets any internal meter state.</p>
<p>Should normally be called at the end of a phase.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.VideoAccuracyMeter.set_classy_state">
<code class="sig-name descname">set_classy_state</code><span class="sig-paren">(</span><em class="sig-param">state</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.VideoAccuracyMeter.set_classy_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the state of the ClassyMeter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state_dict</strong> – The state dictionary. Must be the output of a call to
<a href="#id17"><span class="problematic" id="id18">:method:`get_classy_state`</span></a>.</p>
</dd>
</dl>
<p>This is used to load the state of the meter from a checkpoint.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.VideoAccuracyMeter.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">model_output</em>, <em class="sig-param">target</em>, <em class="sig-param">is_train</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.VideoAccuracyMeter.update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_output</strong> – tensor of shape (B * clips_per_video, C) where each value is
either logit or class probability.</p></li>
<li><p><strong>target</strong> – tensor of shape (B * clips_per_video).</p></li>
<li><p><strong>if True</strong><strong>, </strong><strong>it is training stage when meter is updated</strong> (<em>is_train</em>) – </p></li>
<li><p><strong>Note</strong> – For binary classification, C=2.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.VideoAccuracyMeter.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param">model_output_shape</em>, <em class="sig-param">target_shape</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.VideoAccuracyMeter.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate the meter.</p>
<p>Checks if the meter can be calculated on the given model_output_shape
and target_shape.</p>
</dd></dl>
<dl class="method">
<dt id="classy_vision.meters.VideoAccuracyMeter.value">
<em class="property">property </em><code class="sig-name descname">value</code><a class="headerlink" href="#classy_vision.meters.VideoAccuracyMeter.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Value of meter based on local state, can be any python object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there are multiple training processes then this
represents the local state of the meter. If <a href="#id19"><span class="problematic" id="id20">:method:`sync_meter`</span></a> is
implemented, then value will return the global state since the
last sync PLUS any local unsynced updates that have occurred
in the local process.</p>
</div>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="classy_vision.meters.build_meter">
<code class="sig-prename descclassname">classy_vision.meters.</code><code class="sig-name descname">build_meter</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.build_meter" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a ClassyMeter from a config.</p>
<p>This assumes a ‘name’ key in the config which is used to determine what
meter class to instantiate. For instance, a config <cite>{“name”: “my_meter”,
“foo”: “bar”}</cite> will find a class that was registered as “my_meter” (see
<a class="reference internal" href="#classy_vision.meters.register_meter" title="classy_vision.meters.register_meter"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_meter()</span></code></a>) and call .from_config on it.</p>
</dd></dl>
<dl class="function">
<dt id="classy_vision.meters.register_meter">
<code class="sig-prename descclassname">classy_vision.meters.</code><code class="sig-name descname">register_meter</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#classy_vision.meters.register_meter" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a ClassyMeter subclass.</p>
<p>This decorator allows Classy Vision to instantiate a subclass of
ClassyMeter from a configuration file, even if the class itself is not
part of the Classy Vision framework. To use it, apply this decorator to a
ClassyMeter subclass, like this:</p>
<blockquote>
<div><p>@register_meter(‘accuracy’)
class AccuracyMeter(ClassyMeter):</p>
<blockquote>
<div><p>…</p>
</div></blockquote>
</div></blockquote>
<p>To instantiate a meter from a configuration file, see
<a class="reference internal" href="#classy_vision.meters.build_meter" title="classy_vision.meters.build_meter"><code class="xref py py-func docutils literal notranslate"><span class="pre">build_meter()</span></code></a>.</p>
</dd></dl>
</div>
</div>
</div>
</div>
<div aria-label="main navigation" class="sphinxsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Classy Vision</a></h1>
<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Library Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dataset.html">Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="heads.html">Heads</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks.html">Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="losses.html">Losses</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Meters</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="optim.html">Optimizers</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasks.html">Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="trainer.html">Trainer</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
<li><a href="index.html">Documentation overview</a><ul>
<li>Previous: <a href="losses.html" title="previous chapter">Losses</a></li>
<li>Next: <a href="models.html" title="next chapter">Models</a></li>
</ul></li>
</ul>
</div>
<div id="searchbox" role="search" style="display: none">
<h3 id="searchlabel">Quick search</h3>
<div class="searchformwrapper">
<form action="search.html" class="search" method="get">
<input aria-labelledby="searchlabel" name="q" type="text"/>
<input type="submit" value="Go"/>
</form>
</div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div></div>